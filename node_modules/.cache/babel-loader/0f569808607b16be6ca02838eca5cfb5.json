{"ast":null,"code":"var _jsxFileName = \"/Users/vedantbahadur/Documents/Programming/HTML/Firebase dashboard 2/src/views/Dashboard/Dashboard.js\";\nimport React from \"react\"; // react plugin for creating charts\n\nimport ChartistGraph from \"react-chartist\"; // @material-ui/core\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Icon from \"@material-ui/core/Icon\"; // @material-ui/icons\n\nimport Store from \"@material-ui/icons/Store\";\nimport Warning from \"@material-ui/icons/Warning\";\nimport DateRange from \"@material-ui/icons/DateRange\";\nimport LocalOffer from \"@material-ui/icons/LocalOffer\";\nimport Update from \"@material-ui/icons/Update\";\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\nimport Accessibility from \"@material-ui/icons/Accessibility\";\nimport BugReport from \"@material-ui/icons/BugReport\";\nimport Code from \"@material-ui/icons/Code\";\nimport Cloud from \"@material-ui/icons/Cloud\"; // core components\n\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Table from \"components/Table/Table.js\";\nimport Tasks from \"components/Tasks/Tasks.js\";\nimport CustomTabs from \"components/CustomTabs/CustomTabs.js\";\nimport Danger from \"components/Typography/Danger.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardIcon from \"components/Card/CardIcon.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CardSpecial from \"components/Card/CardSpecial\";\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport { db_config } from \"config\";\nimport View from '@material-ui/core/Button';\nimport { bugs, website, server } from \"variables/general.js\";\nimport { allMetrics, dataPoints, toggleConst } from \"variables/charts.js\";\nimport styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\n\nvar Chartist = require(\"chartist\");\n\nvar useStyles = makeStyles(styles);\nexport default function Dashboard() {\n  var _this = this;\n\n  var classes = useStyles();\n  var allMetrics3 = [];\n  Object.assign(allMetrics3, allMetrics);\n  var allMetrics2 = [];\n  console.log(allMetrics);\n  var toggled = [false];\n  Object.assign(toggled, toggleConst);\n  console.log(\"Toggle\");\n  console.log(toggled);\n  console.log(\"Toggle\");\n  console.log(toggleConst);\n  var labels = [];\n  var hour = 11;\n  var min = 41;\n\n  if (toggled[0] == true) {\n    for (var count = 0; count < dataPoints; count++) {\n      var newHour = hour;\n      var lbl = min - (dataPoints - 1 - count) * 15;\n      console.log(\"lbl\");\n      console.log(lbl);\n\n      if (lbl < 0) {\n        lbl = 60 + lbl % 60;\n        newHour = hour - Math.ceil(lbl / 60) + lbl % 60;\n\n        if (newHour < 0) {\n          newHour = newHour + 24;\n        }\n      }\n\n      labels.push(newHour.toString() + \":\" + lbl.toString());\n    }\n  }\n\n  for (var count = 0; count < allMetrics3.length; count++) {\n    var metric = JSON.parse(JSON.stringify(allMetrics3[count]));\n    console.log(\"c\");\n    console.log(metric);\n    console.log(\"cd\");\n    console.log(toggled[0]);\n\n    if (toggled[0] == true) {\n      metric.data.series[0] = metric.data.series[0].splice(-dataPoints);\n      metric.data.labels = labels;\n    } else {\n      console.log(\"false\");\n      var delta = 10;\n      var lightArrayIn = metric.data.series[0].slice(-(dataPoints * delta));\n      console.log(lightArrayIn);\n      metric.data.series[0] = [];\n\n      for (var i = lightArrayIn.length - 1; i >= 0; i = i - delta) {\n        metric.data.series[0].push(lightArrayIn[i]);\n      }\n\n      metric.data.series[0].reverse();\n      console.log(metric.data.series[0]);\n    }\n\n    console.log(metric);\n    allMetrics2.push(metric);\n    console.log(\"allm21\");\n    console.log(allMetrics2);\n  }\n\n  console.log(\"allm2\");\n  console.log(allMetrics2);\n  console.log(allMetrics);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, allMetrics2.map(function (i) {\n    return /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 3,\n      key: \"hello\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(CardSpecial, {\n      chart: true,\n      style: {\n        backgroundColor: i.high >= i.data.series[0][dataPoints - 1] && i.low <= i.data.series[0][dataPoints - 1] ? \"#66bb6a\" : \"#ef5350\",\n        padding: \"10px 10px\",\n        textAlign: \"center\",\n        color: \"white\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, NotifName(i.title, i.data.series[0][dataPoints - 1], i.high, i.low)));\n  })), /*#__PURE__*/React.createElement(GridContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, allMetrics2.map(function (i) {\n    var type = i.title.includes(\"Humidity\") ? 'Humidity' : i.title.includes(\"Light\") ? 'Light' : i.title.includes(\"Temp\") ? 'Temp' : 'PH';\n    console.log(i.high);\n    console.log(i.data.series[0]);\n    console.log(i.low);\n    var color = \"primary\";\n    return /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 6,\n      key: i.title,\n      id: type,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      chart: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      color: color,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ChartistGraph, {\n      className: \"ct-chart\",\n      data: i.data,\n      type: \"Line\",\n      options: i.options,\n      listener: {\n        \"draw\": function draw(data) {\n          if (data.type === 'line' || data.type === 'area') {\n            data.element.animate({\n              d: {\n                begin: 2000 * data.index,\n                dur: 2000,\n                from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),\n                to: data.path.clone().stringify(),\n                easing: Chartist.Svg.Easing.easeOutQuint\n              }\n            });\n          }\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(CardBody, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: classes.cardTitle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }, i.title, \" : \", i.data.series[0][dataPoints - 1]))));\n  })));\n}\n\nfunction NotifName(title, data, high, low) {\n  if (title.includes(\"Humidity\")) {\n    if (high < data) {\n      return title + \" is too high, Please check your environment\";\n    } else if (low > data) {\n      return title + \" is too low, Please check your environment\";\n    } else {\n      return title + ' Level Good!';\n    }\n  } else if (title.includes(\"Light\")) {\n    if (high < data) {\n      return title + \" is too high, Please check your environment\";\n    } else if (low > data) {\n      return title + \" is too low, Please check your environment\";\n    } else {\n      return title + ' Level Good!';\n    }\n  } else if (title.includes(\"Temp\")) {\n    if (high < data) {\n      return title + \" is too high, Please lower your temperature\";\n    } else if (low > data) {\n      return title + \" is too low, Please raise your temperature\";\n    } else {\n      return title + ' Level Good!';\n    }\n  } else if (title.includes(\"PH\")) {\n    if (high < data) {\n      return title + \" is too high, Please add water\";\n    } else if (low > data) {\n      return title + \" is too low, Please add nutrient solution\";\n    } else {\n      return title + ' Level Good!';\n    }\n  }\n}","map":{"version":3,"sources":["/Users/vedantbahadur/Documents/Programming/HTML/Firebase dashboard 2/src/views/Dashboard/Dashboard.js"],"names":["React","ChartistGraph","makeStyles","Icon","Store","Warning","DateRange","LocalOffer","Update","ArrowUpward","AccessTime","Accessibility","BugReport","Code","Cloud","GridItem","GridContainer","Table","Tasks","CustomTabs","Danger","Card","CardHeader","CardIcon","CardBody","CardFooter","CardSpecial","firebase","db_config","View","bugs","website","server","allMetrics","dataPoints","toggleConst","styles","Chartist","require","useStyles","Dashboard","classes","allMetrics3","Object","assign","allMetrics2","console","log","toggled","labels","hour","min","count","newHour","lbl","Math","ceil","push","toString","length","metric","JSON","parse","stringify","data","series","splice","delta","lightArrayIn","slice","i","reverse","map","backgroundColor","high","low","padding","textAlign","color","NotifName","title","type","includes","options","element","animate","d","begin","index","dur","from","path","clone","scale","translate","chartRect","height","to","easing","Svg","Easing","easeOutQuint","cardTitle"],"mappings":"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","sourcesContent":["import React from \"react\";\n// react plugin for creating charts\nimport ChartistGraph from \"react-chartist\";\n// @material-ui/core\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Icon from \"@material-ui/core/Icon\";\n// @material-ui/icons\nimport Store from \"@material-ui/icons/Store\";\nimport Warning from \"@material-ui/icons/Warning\";\nimport DateRange from \"@material-ui/icons/DateRange\";\nimport LocalOffer from \"@material-ui/icons/LocalOffer\";\nimport Update from \"@material-ui/icons/Update\";\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\nimport Accessibility from \"@material-ui/icons/Accessibility\";\nimport BugReport from \"@material-ui/icons/BugReport\";\nimport Code from \"@material-ui/icons/Code\";\nimport Cloud from \"@material-ui/icons/Cloud\";\n// core components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Table from \"components/Table/Table.js\";\nimport Tasks from \"components/Tasks/Tasks.js\";\nimport CustomTabs from \"components/CustomTabs/CustomTabs.js\";\nimport Danger from \"components/Typography/Danger.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardIcon from \"components/Card/CardIcon.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CardSpecial from \"components/Card/CardSpecial\";\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport { db_config } from \"config\";\nimport View from '@material-ui/core/Button';\n\nimport { bugs, website, server } from \"variables/general.js\";\n\nimport {\n  allMetrics,\n  dataPoints,\n  toggleConst\n} from \"variables/charts.js\";\n\nimport styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\nvar Chartist = require(\"chartist\");\nconst useStyles = makeStyles(styles);\n\nexport default function Dashboard() {\n  const classes = useStyles();\n  var allMetrics3 = [];\n  Object.assign(allMetrics3, allMetrics)\n  var allMetrics2 = [];\n  console.log(allMetrics)\n  var toggled = [false];\n  Object.assign(toggled, toggleConst);\n  console.log(\"Toggle\")\n  console.log(toggled);\n  console.log(\"Toggle\")\n  console.log(toggleConst);\n  var labels = [];\n  var hour = 11;\n  var min = 41;\n  if (toggled[0] == true) {\n    for (var count = 0; count < dataPoints; count++) {\n      var newHour = hour;\n      var lbl = min - (dataPoints - 1 - count) * 15\n      console.log(\"lbl\")\n      console.log(lbl)\n      if (lbl < 0) {\n        lbl = 60 + lbl%60\n        newHour = hour - Math.ceil(lbl/60) + lbl%60\n        if (newHour < 0) {\n          newHour = newHour + 24\n        }\n      }\n      labels.push(newHour.toString() + \":\" + lbl.toString())\n    }\n  }\n  for (var count = 0; count < allMetrics3.length; count++) {\n    var metric = JSON.parse(JSON.stringify(allMetrics3[count]))\n    console.log(\"c\")\n    console.log(metric);\n    console.log(\"cd\")\n    console.log(toggled[0])\n    if (toggled[0] == true) {\n      metric.data.series[0] = metric.data.series[0].splice(-dataPoints);\n      metric.data.labels = labels\n    }\n    else {\n      console.log(\"false\")\n      var delta = 10;\n      var lightArrayIn = metric.data.series[0].slice(-(dataPoints * delta));\n      console.log(lightArrayIn)\n      metric.data.series[0] = [];\n      for (var i = lightArrayIn.length - 1; i >= 0; i = i - delta) {\n        metric.data.series[0].push(lightArrayIn[i]);\n      }\n      metric.data.series[0].reverse()\n      console.log(metric.data.series[0])\n    }\n    console.log(metric)\n    allMetrics2.push(metric)\n    console.log(\"allm21\")\n    console.log(allMetrics2)\n  }\n  console.log(\"allm2\")\n  console.log(allMetrics2)\n  console.log(allMetrics)\n  return (\n    <div>\n\n      <GridContainer >\n        {allMetrics2.map(i => {\n          return <GridItem xs={12} sm={12} md={3} key=\"hello\">\n            <CardSpecial chart style={{\n              backgroundColor: (i.high >= i.data.series[0][dataPoints - 1] && i.low <= i.data.series[0][dataPoints - 1]) ? \"#66bb6a\" : \"#ef5350\",\n              padding: \"10px 10px\",\n              textAlign: \"center\",\n              color: \"white\"\n            }}>\n              {NotifName(i.title, i.data.series[0][dataPoints - 1], i.high, i.low)}\n            </CardSpecial>\n          </GridItem>\n        })}\n      </GridContainer>\n      <GridContainer>\n        {allMetrics2.map(i => {\n          var type = i.title.includes(\"Humidity\") ? 'Humidity' : i.title.includes(\"Light\") ? 'Light' : i.title.includes(\"Temp\") ? 'Temp' : 'PH'\n          console.log(i.high)\n          console.log(i.data.series[0])\n          console.log(i.low)\n          var color = \"primary\"\n          return <GridItem xs={12} sm={12} md={6} key={i.title} id={type}>\n            <Card chart>\n              <CardHeader color={color}>\n                <ChartistGraph\n                  className=\"ct-chart\"\n                  data={i.data}\n                  type=\"Line\"\n                  options={i.options}\n                  listener={{\n                    \"draw\": function (data) {\n                      if (data.type === 'line' || data.type === 'area') {\n                        data.element.animate({\n                          d: {\n                            begin: 2000 * data.index,\n                            dur: 2000,\n                            from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),\n                            to: data.path.clone().stringify(),\n                            easing: Chartist.Svg.Easing.easeOutQuint\n                          }\n                        });\n                      }\n                    }\n                  }}\n                />\n              </CardHeader>\n              <CardBody>\n                <h4 className={classes.cardTitle}>{i.title} : {i.data.series[0][dataPoints - 1]}</h4>\n              </CardBody>\n            </Card>\n          </GridItem>;\n        })}\n      </GridContainer>\n    </div>\n  );\n}\n\nfunction NotifName(title, data, high, low) {\n  if (title.includes(\"Humidity\")) {\n    if (high < data) {\n      return (title + \" is too high, Please check your environment\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please check your environment\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  }\n  else if (title.includes(\"Light\")) {\n    if (high < data) {\n      return (title + \" is too high, Please check your environment\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please check your environment\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  } else if (title.includes(\"Temp\")) {\n    if (high < data) {\n      return (title + \" is too high, Please lower your temperature\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please raise your temperature\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  } else if (title.includes(\"PH\")) {\n    if (high < data) {\n      return (title + \" is too high, Please add water\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please add nutrient solution\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}