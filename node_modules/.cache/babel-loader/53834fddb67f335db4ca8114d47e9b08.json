{"ast":null,"code":"var _jsxFileName = \"/Users/garg10435/Desktop/Firebase dashboard 2/src/views/Dashboard/Dashboard.js\";\nimport React from \"react\"; // react plugin for creating charts\n\nimport ChartistGraph from \"react-chartist\"; // @material-ui/core\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Icon from \"@material-ui/core/Icon\"; // @material-ui/icons\n\nimport Store from \"@material-ui/icons/Store\";\nimport Warning from \"@material-ui/icons/Warning\";\nimport DateRange from \"@material-ui/icons/DateRange\";\nimport LocalOffer from \"@material-ui/icons/LocalOffer\";\nimport Update from \"@material-ui/icons/Update\";\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\nimport Accessibility from \"@material-ui/icons/Accessibility\";\nimport BugReport from \"@material-ui/icons/BugReport\";\nimport Code from \"@material-ui/icons/Code\";\nimport Cloud from \"@material-ui/icons/Cloud\"; // core components\n\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Table from \"components/Table/Table.js\";\nimport Tasks from \"components/Tasks/Tasks.js\";\nimport CustomTabs from \"components/CustomTabs/CustomTabs.js\";\nimport Danger from \"components/Typography/Danger.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardIcon from \"components/Card/CardIcon.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CardSpecial from \"components/Card/CardSpecial\";\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport { db_config } from \"config\";\nimport View from '@material-ui/core/Button';\nimport { bugs, website, server } from \"variables/general.js\";\nimport { allMetrics, dataPoints, toggleConst } from \"variables/charts.js\";\nimport styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\n\nvar Chartist = require(\"chartist\");\n\nvar useStyles = makeStyles(styles);\nexport default function Dashboard() {\n  var _this = this;\n\n  var classes = useStyles();\n  var allMetrics3 = [];\n  Object.assign(allMetrics3, allMetrics);\n  var allMetrics2 = [];\n  console.log(allMetrics);\n  var toggled = [false];\n  Object.assign(toggled, toggleConst);\n  console.log(\"Toggle\");\n  console.log(toggled);\n  console.log(\"Toggle\");\n  console.log(toggleConst);\n  var labels = [];\n  var label1 = JSON.parse(JSON.stringify(allMetrics[0].data.labels[allMetrics[0].data.labels.length - 1]));\n  console.log(label1);\n  var hour = Math.round(label1.substr(0, label1.indexOf(':')));\n  var min = Math.round(label1.substr(label1.indexOf(':') + 1));\n\n  var zeroPad = function zeroPad(num, places) {\n    return String(num).padStart(places, '0');\n  };\n\n  if (toggled[0] == true) {\n    for (var count = 0; count < dataPoints; count++) {\n      var newHour = hour;\n      var lbl = min - (dataPoints - 1 - count) * 15;\n      console.log(\"lbl\");\n      console.log(lbl);\n\n      if (lbl < 0) {\n        lbl = 60 + lbl % 60;\n        newHour = hour - Math.ceil(-(min - (dataPoints - 1 - count) * 15) / 60);\n\n        if (newHour < 0) {\n          newHour = newHour + 24;\n        }\n      }\n\n      labels.push(zeroPad(newHour, 2) + \":\" + zeroPad(lbl, 2));\n    }\n  }\n\n  for (var count = 0; count < allMetrics3.length; count++) {\n    var metric = JSON.parse(JSON.stringify(allMetrics3[count]));\n    console.log(\"c\");\n    console.log(metric);\n    console.log(\"cd\");\n    console.log(toggled[0]);\n\n    if (toggled[0] == true) {\n      metric.data.series[0] = metric.data.series[0].splice(-dataPoints);\n      metric.data.labels = labels;\n    } else {\n      console.log(\"false\");\n      var delta = 10;\n      var lightArrayIn = metric.data.series[0].slice(-(dataPoints * delta));\n      console.log(lightArrayIn);\n      metric.data.series[0] = [];\n\n      for (var i = lightArrayIn.length - 1; i >= 0; i = i - delta) {\n        metric.data.series[0].push(lightArrayIn[i]);\n      }\n\n      metric.data.series[0].reverse();\n      console.log(metric.data.series[0]);\n    }\n\n    console.log(metric);\n    allMetrics2.push(metric);\n    console.log(\"allm21\");\n    console.log(allMetrics2);\n  }\n\n  console.log(\"allm2\");\n  console.log(allMetrics2);\n  console.log(allMetrics);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(GridContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, allMetrics2.map(function (i) {\n    return /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 3,\n      key: \"hello\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(CardSpecial, {\n      chart: true,\n      style: {\n        backgroundColor: i.high >= i.data.series[0][dataPoints - 1] && i.low <= i.data.series[0][dataPoints - 1] ? \"#66bb6a\" : \"#ef5350\",\n        padding: \"10px 10px\",\n        textAlign: \"center\",\n        color: \"white\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, NotifName(i.title, i.data.series[0][dataPoints - 1], i.high, i.low)));\n  })), /*#__PURE__*/React.createElement(GridContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }, allMetrics2.map(function (i) {\n    var type = i.title.includes(\"Humidity\") ? 'Humidity' : i.title.includes(\"Light\") ? 'Light' : i.title.includes(\"Temp\") ? 'Temp' : 'PH';\n    console.log(i.high);\n    console.log(i.data.series[0]);\n    console.log(i.low);\n    var color = \"primary\";\n    return /*#__PURE__*/React.createElement(GridItem, {\n      xs: 12,\n      sm: 12,\n      md: 6,\n      key: i.title,\n      id: type,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      chart: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      color: color,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ChartistGraph, {\n      className: \"ct-chart\",\n      data: i.data,\n      type: \"Line\",\n      options: i.options,\n      listener: {\n        \"draw\": function draw(data) {\n          if (data.type === 'line' || data.type === 'area') {\n            data.element.animate({\n              d: {\n                begin: 2000 * data.index,\n                dur: 2000,\n                from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),\n                to: data.path.clone().stringify(),\n                easing: Chartist.Svg.Easing.easeOutQuint\n              }\n            });\n          }\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(CardBody, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: classes.cardTitle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, i.title, \" : \", i.data.series[0][dataPoints - 1]), /*#__PURE__*/React.createElement(\"p1\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, \"Optimum Range: \", i.low, \" - \", i.high))));\n  })));\n}\n\nfunction NotifName(title, data, high, low) {\n  if (title.includes(\"Humidity\")) {\n    if (high < data) {\n      return title + \" is too high, Please check your environment\";\n    } else if (low > data) {\n      return title + \" is too low, Please check your environment\";\n    } else {\n      return title + ' Level Good!';\n    }\n  } else if (title.includes(\"Light\")) {\n    if (high < data) {\n      return title + \" is too high, Please check your environment\";\n    } else if (low > data) {\n      return title + \" is too low, Please check your environment\";\n    } else {\n      return title + ' Level Good!';\n    }\n  } else if (title.includes(\"Temp\")) {\n    if (high < data) {\n      return title + \" is too high, Please lower your temperature\";\n    } else if (low > data) {\n      return title + \" is too low, Please raise your temperature\";\n    } else {\n      return title + ' Level Good!';\n    }\n  } else if (title.includes(\"PH\")) {\n    if (high < data) {\n      return title + \" is too high, Please add water\";\n    } else if (low > data) {\n      return title + \" is too low, Please add nutrient solution\";\n    } else {\n      return title + ' Level Good!';\n    }\n  }\n}","map":{"version":3,"sources":["/Users/garg10435/Desktop/Firebase dashboard 2/src/views/Dashboard/Dashboard.js"],"names":["React","ChartistGraph","makeStyles","Icon","Store","Warning","DateRange","LocalOffer","Update","ArrowUpward","AccessTime","Accessibility","BugReport","Code","Cloud","GridItem","GridContainer","Table","Tasks","CustomTabs","Danger","Card","CardHeader","CardIcon","CardBody","CardFooter","CardSpecial","firebase","db_config","View","bugs","website","server","allMetrics","dataPoints","toggleConst","styles","Chartist","require","useStyles","Dashboard","classes","allMetrics3","Object","assign","allMetrics2","console","log","toggled","labels","label1","JSON","parse","stringify","data","length","hour","Math","round","substr","indexOf","min","zeroPad","num","places","String","padStart","count","newHour","lbl","ceil","push","metric","series","splice","delta","lightArrayIn","slice","i","reverse","map","backgroundColor","high","low","padding","textAlign","color","NotifName","title","type","includes","options","element","animate","d","begin","index","dur","from","path","clone","scale","translate","chartRect","height","to","easing","Svg","Easing","easeOutQuint","cardTitle"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,aAAP,MAA0B,gBAA1B,C,CACA;;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,IAAP,MAAiB,wBAAjB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,KAAP,MAAkB,0BAAlB,C,CACA;;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,mBAAP;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,OAAOC,IAAP,MAAiB,0BAAjB;AAEA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,MAAxB,QAAsC,sBAAtC;AAEA,SACEC,UADF,EAEEC,UAFF,EAGEC,WAHF,QAIO,qBAJP;AAMA,OAAOC,MAAP,MAAmB,6DAAnB;;AACA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAMC,SAAS,GAAGrC,UAAU,CAACkC,MAAD,CAA5B;AAEA,eAAe,SAASI,SAAT,GAAqB;AAAA;;AAClC,MAAMC,OAAO,GAAGF,SAAS,EAAzB;AACA,MAAIG,WAAW,GAAG,EAAlB;AACAC,EAAAA,MAAM,CAACC,MAAP,CAAcF,WAAd,EAA2BT,UAA3B;AACA,MAAIY,WAAW,GAAG,EAAlB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYd,UAAZ;AACA,MAAIe,OAAO,GAAG,CAAC,KAAD,CAAd;AACAL,EAAAA,MAAM,CAACC,MAAP,CAAcI,OAAd,EAAuBb,WAAvB;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYZ,WAAZ;AACA,MAAIc,MAAM,GAAG,EAAb;AACA,MAAIC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAepB,UAAU,CAAC,CAAD,CAAV,CAAcqB,IAAd,CAAmBL,MAAnB,CAA0BhB,UAAU,CAAC,CAAD,CAAV,CAAcqB,IAAd,CAAmBL,MAAnB,CAA0BM,MAA1B,GAAiC,CAA3D,CAAf,CAAX,CAAb;AACAT,EAAAA,OAAO,CAACC,GAAR,CAAYG,MAAZ;AACA,MAAIM,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWR,MAAM,CAACS,MAAP,CAAc,CAAd,EAAiBT,MAAM,CAACU,OAAP,CAAe,GAAf,CAAjB,CAAX,CAAX;AACA,MAAIC,GAAG,GAAGJ,IAAI,CAACC,KAAL,CAAWR,MAAM,CAACS,MAAP,CAAcT,MAAM,CAACU,OAAP,CAAe,GAAf,IAAoB,CAAlC,CAAX,CAAV;;AACA,MAAME,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAMC,MAAN;AAAA,WAAiBC,MAAM,CAACF,GAAD,CAAN,CAAYG,QAAZ,CAAqBF,MAArB,EAA6B,GAA7B,CAAjB;AAAA,GAAhB;;AACA,MAAIhB,OAAO,CAAC,CAAD,CAAP,IAAc,IAAlB,EAAwB;AACtB,SAAK,IAAImB,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGjC,UAA5B,EAAwCiC,KAAK,EAA7C,EAAiD;AAC/C,UAAIC,OAAO,GAAGZ,IAAd;AACA,UAAIa,GAAG,GAAGR,GAAG,GAAG,CAAC3B,UAAU,GAAG,CAAb,GAAiBiC,KAAlB,IAA2B,EAA3C;AACArB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYsB,GAAZ;;AACA,UAAIA,GAAG,GAAG,CAAV,EAAa;AACXA,QAAAA,GAAG,GAAG,KAAKA,GAAG,GAAC,EAAf;AACAD,QAAAA,OAAO,GAAGZ,IAAI,GAAGC,IAAI,CAACa,IAAL,CAAU,EAAET,GAAG,GAAG,CAAC3B,UAAU,GAAG,CAAb,GAAiBiC,KAAlB,IAA2B,EAAnC,IAAuC,EAAjD,CAAjB;;AACA,YAAIC,OAAO,GAAG,CAAd,EAAiB;AACfA,UAAAA,OAAO,GAAGA,OAAO,GAAG,EAApB;AACD;AACF;;AACDnB,MAAAA,MAAM,CAACsB,IAAP,CAAYT,OAAO,CAACM,OAAD,EAAU,CAAV,CAAP,GAAsB,GAAtB,GAA4BN,OAAO,CAACO,GAAD,EAAM,CAAN,CAA/C;AACD;AACF;;AACD,OAAK,IAAIF,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGzB,WAAW,CAACa,MAAxC,EAAgDY,KAAK,EAArD,EAAyD;AACvD,QAAIK,MAAM,GAAGrB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeX,WAAW,CAACyB,KAAD,CAA1B,CAAX,CAAb;AACArB,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYyB,MAAZ;AACA1B,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYC,OAAO,CAAC,CAAD,CAAnB;;AACA,QAAIA,OAAO,CAAC,CAAD,CAAP,IAAc,IAAlB,EAAwB;AACtBwB,MAAAA,MAAM,CAAClB,IAAP,CAAYmB,MAAZ,CAAmB,CAAnB,IAAwBD,MAAM,CAAClB,IAAP,CAAYmB,MAAZ,CAAmB,CAAnB,EAAsBC,MAAtB,CAA6B,CAACxC,UAA9B,CAAxB;AACAsC,MAAAA,MAAM,CAAClB,IAAP,CAAYL,MAAZ,GAAqBA,MAArB;AACD,KAHD,MAIK;AACHH,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,UAAI4B,KAAK,GAAG,EAAZ;AACA,UAAIC,YAAY,GAAGJ,MAAM,CAAClB,IAAP,CAAYmB,MAAZ,CAAmB,CAAnB,EAAsBI,KAAtB,CAA4B,EAAE3C,UAAU,GAAGyC,KAAf,CAA5B,CAAnB;AACA7B,MAAAA,OAAO,CAACC,GAAR,CAAY6B,YAAZ;AACAJ,MAAAA,MAAM,CAAClB,IAAP,CAAYmB,MAAZ,CAAmB,CAAnB,IAAwB,EAAxB;;AACA,WAAK,IAAIK,CAAC,GAAGF,YAAY,CAACrB,MAAb,GAAsB,CAAnC,EAAsCuB,CAAC,IAAI,CAA3C,EAA8CA,CAAC,GAAGA,CAAC,GAAGH,KAAtD,EAA6D;AAC3DH,QAAAA,MAAM,CAAClB,IAAP,CAAYmB,MAAZ,CAAmB,CAAnB,EAAsBF,IAAtB,CAA2BK,YAAY,CAACE,CAAD,CAAvC;AACD;;AACDN,MAAAA,MAAM,CAAClB,IAAP,CAAYmB,MAAZ,CAAmB,CAAnB,EAAsBM,OAAtB;AACAjC,MAAAA,OAAO,CAACC,GAAR,CAAYyB,MAAM,CAAClB,IAAP,CAAYmB,MAAZ,CAAmB,CAAnB,CAAZ;AACD;;AACD3B,IAAAA,OAAO,CAACC,GAAR,CAAYyB,MAAZ;AACA3B,IAAAA,WAAW,CAAC0B,IAAZ,CAAiBC,MAAjB;AACA1B,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AACD;;AACDC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYd,UAAZ;AACA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGY,WAAW,CAACmC,GAAZ,CAAgB,UAAAF,CAAC,EAAI;AACpB,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE,EAAd;AAAkB,MAAA,EAAE,EAAE,EAAtB;AAA0B,MAAA,EAAE,EAAE,CAA9B;AAAiC,MAAA,GAAG,EAAC,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACL,oBAAC,WAAD;AAAa,MAAA,KAAK,MAAlB;AAAmB,MAAA,KAAK,EAAE;AACxBG,QAAAA,eAAe,EAAGH,CAAC,CAACI,IAAF,IAAUJ,CAAC,CAACxB,IAAF,CAAOmB,MAAP,CAAc,CAAd,EAAiBvC,UAAU,GAAG,CAA9B,CAAV,IAA8C4C,CAAC,CAACK,GAAF,IAASL,CAAC,CAACxB,IAAF,CAAOmB,MAAP,CAAc,CAAd,EAAiBvC,UAAU,GAAG,CAA9B,CAAxD,GAA4F,SAA5F,GAAwG,SADjG;AAExBkD,QAAAA,OAAO,EAAE,WAFe;AAGxBC,QAAAA,SAAS,EAAE,QAHa;AAIxBC,QAAAA,KAAK,EAAE;AAJiB,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMGC,SAAS,CAACT,CAAC,CAACU,KAAH,EAAUV,CAAC,CAACxB,IAAF,CAAOmB,MAAP,CAAc,CAAd,EAAiBvC,UAAU,GAAG,CAA9B,CAAV,EAA4C4C,CAAC,CAACI,IAA9C,EAAoDJ,CAAC,CAACK,GAAtD,CANZ,CADK,CAAP;AAUD,GAXA,CADH,CAFF,eAkBE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtC,WAAW,CAACmC,GAAZ,CAAgB,UAAAF,CAAC,EAAI;AACpB,QAAIW,IAAI,GAAGX,CAAC,CAACU,KAAF,CAAQE,QAAR,CAAiB,UAAjB,IAA+B,UAA/B,GAA4CZ,CAAC,CAACU,KAAF,CAAQE,QAAR,CAAiB,OAAjB,IAA4B,OAA5B,GAAsCZ,CAAC,CAACU,KAAF,CAAQE,QAAR,CAAiB,MAAjB,IAA2B,MAA3B,GAAoC,IAAjI;AACA5C,IAAAA,OAAO,CAACC,GAAR,CAAY+B,CAAC,CAACI,IAAd;AACApC,IAAAA,OAAO,CAACC,GAAR,CAAY+B,CAAC,CAACxB,IAAF,CAAOmB,MAAP,CAAc,CAAd,CAAZ;AACA3B,IAAAA,OAAO,CAACC,GAAR,CAAY+B,CAAC,CAACK,GAAd;AACA,QAAIG,KAAK,GAAG,SAAZ;AACA,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE,EAAd;AAAkB,MAAA,EAAE,EAAE,EAAtB;AAA0B,MAAA,EAAE,EAAE,CAA9B;AAAiC,MAAA,GAAG,EAAER,CAAC,CAACU,KAAxC;AAA+C,MAAA,EAAE,EAAEC,IAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACL,oBAAC,IAAD;AAAM,MAAA,KAAK,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAEH,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,SAAS,EAAC,UADZ;AAEE,MAAA,IAAI,EAAER,CAAC,CAACxB,IAFV;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,OAAO,EAAEwB,CAAC,CAACa,OAJb;AAKE,MAAA,QAAQ,EAAE;AACR,gBAAQ,cAAUrC,IAAV,EAAgB;AACtB,cAAIA,IAAI,CAACmC,IAAL,KAAc,MAAd,IAAwBnC,IAAI,CAACmC,IAAL,KAAc,MAA1C,EAAkD;AAChDnC,YAAAA,IAAI,CAACsC,OAAL,CAAaC,OAAb,CAAqB;AACnBC,cAAAA,CAAC,EAAE;AACDC,gBAAAA,KAAK,EAAE,OAAOzC,IAAI,CAAC0C,KADlB;AAEDC,gBAAAA,GAAG,EAAE,IAFJ;AAGDC,gBAAAA,IAAI,EAAE5C,IAAI,CAAC6C,IAAL,CAAUC,KAAV,GAAkBC,KAAlB,CAAwB,CAAxB,EAA2B,CAA3B,EAA8BC,SAA9B,CAAwC,CAAxC,EAA2ChD,IAAI,CAACiD,SAAL,CAAeC,MAAf,EAA3C,EAAoEnD,SAApE,EAHL;AAIDoD,gBAAAA,EAAE,EAAEnD,IAAI,CAAC6C,IAAL,CAAUC,KAAV,GAAkB/C,SAAlB,EAJH;AAKDqD,gBAAAA,MAAM,EAAErE,QAAQ,CAACsE,GAAT,CAAaC,MAAb,CAAoBC;AAL3B;AADgB,aAArB;AASD;AACF;AAbO,OALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAwBE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAEpE,OAAO,CAACqE,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmChC,CAAC,CAACU,KAArC,SAA+CV,CAAC,CAACxB,IAAF,CAAOmB,MAAP,CAAc,CAAd,EAAiBvC,UAAU,GAAG,CAA9B,CAA/C,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAoB4C,CAAC,CAACK,GAAtB,SAA8BL,CAAC,CAACI,IAAhC,CAFF,CAxBF,CADK,CAAP;AA+BD,GArCA,CADH,CAlBF,CADF;AA6DD;;AAED,SAASK,SAAT,CAAmBC,KAAnB,EAA0BlC,IAA1B,EAAgC4B,IAAhC,EAAsCC,GAAtC,EAA2C;AACzC,MAAIK,KAAK,CAACE,QAAN,CAAe,UAAf,CAAJ,EAAgC;AAC9B,QAAIR,IAAI,GAAG5B,IAAX,EAAiB;AACf,aAAQkC,KAAK,GAAG,6CAAhB;AACD,KAFD,MAGK,IAAIL,GAAG,GAAG7B,IAAV,EAAgB;AACnB,aAAQkC,KAAK,GAAG,4CAAhB;AACD,KAFI,MAGA;AACH,aAAQA,KAAK,GAAG,cAAhB;AACD;AACF,GAVD,MAWK,IAAIA,KAAK,CAACE,QAAN,CAAe,OAAf,CAAJ,EAA6B;AAChC,QAAIR,IAAI,GAAG5B,IAAX,EAAiB;AACf,aAAQkC,KAAK,GAAG,6CAAhB;AACD,KAFD,MAGK,IAAIL,GAAG,GAAG7B,IAAV,EAAgB;AACnB,aAAQkC,KAAK,GAAG,4CAAhB;AACD,KAFI,MAGA;AACH,aAAQA,KAAK,GAAG,cAAhB;AACD;AACF,GAVI,MAUE,IAAIA,KAAK,CAACE,QAAN,CAAe,MAAf,CAAJ,EAA4B;AACjC,QAAIR,IAAI,GAAG5B,IAAX,EAAiB;AACf,aAAQkC,KAAK,GAAG,6CAAhB;AACD,KAFD,MAGK,IAAIL,GAAG,GAAG7B,IAAV,EAAgB;AACnB,aAAQkC,KAAK,GAAG,4CAAhB;AACD,KAFI,MAGA;AACH,aAAQA,KAAK,GAAG,cAAhB;AACD;AACF,GAVM,MAUA,IAAIA,KAAK,CAACE,QAAN,CAAe,IAAf,CAAJ,EAA0B;AAC/B,QAAIR,IAAI,GAAG5B,IAAX,EAAiB;AACf,aAAQkC,KAAK,GAAG,gCAAhB;AACD,KAFD,MAGK,IAAIL,GAAG,GAAG7B,IAAV,EAAgB;AACnB,aAAQkC,KAAK,GAAG,2CAAhB;AACD,KAFI,MAGA;AACH,aAAQA,KAAK,GAAG,cAAhB;AACD;AACF;AACF","sourcesContent":["import React from \"react\";\n// react plugin for creating charts\nimport ChartistGraph from \"react-chartist\";\n// @material-ui/core\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Icon from \"@material-ui/core/Icon\";\n// @material-ui/icons\nimport Store from \"@material-ui/icons/Store\";\nimport Warning from \"@material-ui/icons/Warning\";\nimport DateRange from \"@material-ui/icons/DateRange\";\nimport LocalOffer from \"@material-ui/icons/LocalOffer\";\nimport Update from \"@material-ui/icons/Update\";\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\nimport Accessibility from \"@material-ui/icons/Accessibility\";\nimport BugReport from \"@material-ui/icons/BugReport\";\nimport Code from \"@material-ui/icons/Code\";\nimport Cloud from \"@material-ui/icons/Cloud\";\n// core components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Table from \"components/Table/Table.js\";\nimport Tasks from \"components/Tasks/Tasks.js\";\nimport CustomTabs from \"components/CustomTabs/CustomTabs.js\";\nimport Danger from \"components/Typography/Danger.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardIcon from \"components/Card/CardIcon.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CardSpecial from \"components/Card/CardSpecial\";\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport { db_config } from \"config\";\nimport View from '@material-ui/core/Button';\n\nimport { bugs, website, server } from \"variables/general.js\";\n\nimport {\n  allMetrics,\n  dataPoints,\n  toggleConst\n} from \"variables/charts.js\";\n\nimport styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\nvar Chartist = require(\"chartist\");\nconst useStyles = makeStyles(styles);\n\nexport default function Dashboard() {\n  const classes = useStyles();\n  var allMetrics3 = [];\n  Object.assign(allMetrics3, allMetrics)\n  var allMetrics2 = [];\n  console.log(allMetrics)\n  var toggled = [false];\n  Object.assign(toggled, toggleConst);\n  console.log(\"Toggle\")\n  console.log(toggled);\n  console.log(\"Toggle\")\n  console.log(toggleConst);\n  var labels = [];\n  var label1 = JSON.parse(JSON.stringify(allMetrics[0].data.labels[allMetrics[0].data.labels.length-1]))\n  console.log(label1)\n  var hour = Math.round(label1.substr(0, label1.indexOf(':')));\n  var min = Math.round(label1.substr(label1.indexOf(':')+1));\n  const zeroPad = (num, places) => String(num).padStart(places, '0')\n  if (toggled[0] == true) {\n    for (var count = 0; count < dataPoints; count++) {\n      var newHour = hour;\n      var lbl = min - (dataPoints - 1 - count) * 15\n      console.log(\"lbl\")\n      console.log(lbl)\n      if (lbl < 0) {\n        lbl = 60 + lbl%60\n        newHour = hour - Math.ceil(-(min - (dataPoints - 1 - count) * 15)/60)\n        if (newHour < 0) {\n          newHour = newHour + 24\n        }\n      }\n      labels.push(zeroPad(newHour, 2) + \":\" + zeroPad(lbl, 2))\n    }\n  }\n  for (var count = 0; count < allMetrics3.length; count++) {\n    var metric = JSON.parse(JSON.stringify(allMetrics3[count]))\n    console.log(\"c\")\n    console.log(metric);\n    console.log(\"cd\")\n    console.log(toggled[0])\n    if (toggled[0] == true) {\n      metric.data.series[0] = metric.data.series[0].splice(-dataPoints);\n      metric.data.labels = labels\n    }\n    else {\n      console.log(\"false\")\n      var delta = 10;\n      var lightArrayIn = metric.data.series[0].slice(-(dataPoints * delta));\n      console.log(lightArrayIn)\n      metric.data.series[0] = [];\n      for (var i = lightArrayIn.length - 1; i >= 0; i = i - delta) {\n        metric.data.series[0].push(lightArrayIn[i]);\n      }\n      metric.data.series[0].reverse()\n      console.log(metric.data.series[0])\n    }\n    console.log(metric)\n    allMetrics2.push(metric)\n    console.log(\"allm21\")\n    console.log(allMetrics2)\n  }\n  console.log(\"allm2\")\n  console.log(allMetrics2)\n  console.log(allMetrics)\n  return (\n    <div>\n\n      <GridContainer >\n        {allMetrics2.map(i => {\n          return <GridItem xs={12} sm={12} md={3} key=\"hello\">\n            <CardSpecial chart style={{\n              backgroundColor: (i.high >= i.data.series[0][dataPoints - 1] && i.low <= i.data.series[0][dataPoints - 1]) ? \"#66bb6a\" : \"#ef5350\",\n              padding: \"10px 10px\",\n              textAlign: \"center\",\n              color: \"white\"\n            }}>\n              {NotifName(i.title, i.data.series[0][dataPoints - 1], i.high, i.low)}\n            </CardSpecial>\n          </GridItem>\n        })}\n      </GridContainer>\n\n      \n      <GridContainer>\n        {allMetrics2.map(i => {\n          var type = i.title.includes(\"Humidity\") ? 'Humidity' : i.title.includes(\"Light\") ? 'Light' : i.title.includes(\"Temp\") ? 'Temp' : 'PH'\n          console.log(i.high)\n          console.log(i.data.series[0])\n          console.log(i.low)\n          var color = \"primary\"\n          return <GridItem xs={12} sm={12} md={6} key={i.title} id={type}>\n            <Card chart>\n              <CardHeader color={color}>\n                <ChartistGraph\n                  className=\"ct-chart\"\n                  data={i.data}\n                  type=\"Line\"\n                  options={i.options}\n                  listener={{\n                    \"draw\": function (data) {\n                      if (data.type === 'line' || data.type === 'area') {\n                        data.element.animate({\n                          d: {\n                            begin: 2000 * data.index,\n                            dur: 2000,\n                            from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),\n                            to: data.path.clone().stringify(),\n                            easing: Chartist.Svg.Easing.easeOutQuint\n                          }\n                        });\n                      }\n                    }\n                  }}\n                />\n              </CardHeader>\n              <CardBody>\n                <h4 className={classes.cardTitle}>{i.title} : {i.data.series[0][dataPoints - 1]}</h4>\n                <p1>Optimum Range: {i.low} - {i.high}</p1>\n              </CardBody>\n            </Card>\n          </GridItem>;\n        })}\n      </GridContainer>\n    </div>\n  );\n}\n\nfunction NotifName(title, data, high, low) {\n  if (title.includes(\"Humidity\")) {\n    if (high < data) {\n      return (title + \" is too high, Please check your environment\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please check your environment\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  }\n  else if (title.includes(\"Light\")) {\n    if (high < data) {\n      return (title + \" is too high, Please check your environment\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please check your environment\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  } else if (title.includes(\"Temp\")) {\n    if (high < data) {\n      return (title + \" is too high, Please lower your temperature\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please raise your temperature\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  } else if (title.includes(\"PH\")) {\n    if (high < data) {\n      return (title + \" is too high, Please add water\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please add nutrient solution\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}