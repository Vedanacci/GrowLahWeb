{"ast":null,"code":"import React from\"react\";// react plugin for creating charts\nimport ChartistGraph from\"react-chartist\";// @material-ui/core\nimport{makeStyles}from\"@material-ui/core/styles\";import Icon from\"@material-ui/core/Icon\";// @material-ui/icons\nimport Store from\"@material-ui/icons/Store\";import Warning from\"@material-ui/icons/Warning\";import DateRange from\"@material-ui/icons/DateRange\";import LocalOffer from\"@material-ui/icons/LocalOffer\";import Update from\"@material-ui/icons/Update\";import ArrowUpward from\"@material-ui/icons/ArrowUpward\";import AccessTime from\"@material-ui/icons/AccessTime\";import Accessibility from\"@material-ui/icons/Accessibility\";import BugReport from\"@material-ui/icons/BugReport\";import Code from\"@material-ui/icons/Code\";import Cloud from\"@material-ui/icons/Cloud\";// core components\nimport GridItem from\"components/Grid/GridItem.js\";import GridContainer from\"components/Grid/GridContainer.js\";import Table from\"components/Table/Table.js\";import Tasks from\"components/Tasks/Tasks.js\";import CustomTabs from\"components/CustomTabs/CustomTabs.js\";import Danger from\"components/Typography/Danger.js\";import Card from\"components/Card/Card.js\";import CardHeader from\"components/Card/CardHeader.js\";import CardIcon from\"components/Card/CardIcon.js\";import CardBody from\"components/Card/CardBody.js\";import CardFooter from\"components/Card/CardFooter.js\";import CardSpecial from\"components/Card/CardSpecial\";import firebase from\"firebase/app\";import\"firebase/database\";import{db_config}from\"config\";import View from'@material-ui/core/Button';import{bugs,website,server}from\"variables/general.js\";import{allMetrics,dataPoints,toggleConst}from\"variables/charts.js\";import styles from\"assets/jss/material-dashboard-react/views/dashboardStyle.js\";var Chartist=require(\"chartist\");var useStyles=makeStyles(styles);export default function Dashboard(){var classes=useStyles();var allMetrics3=[];Object.assign(allMetrics3,allMetrics);var allMetrics2=[];console.log(allMetrics);var toggled=[false];Object.assign(toggled,toggleConst);console.log(\"Toggle\");console.log(toggled);console.log(\"Toggle\");console.log(toggleConst);var labels=[];var label1=JSON.parse(JSON.stringify(allMetrics[0].data.labels[allMetrics[0].data.labels.length-1]));console.log(label1);var hour=Math.round(label1.substr(0,label1.indexOf(':')));var min=Math.round(label1.substr(label1.indexOf(':')+1));var zeroPad=function zeroPad(num,places){return String(num).padStart(places,'0');};if(toggled[0]==true){for(var count=0;count<dataPoints;count++){var newHour=hour;var lbl=min-(dataPoints-1-count)*15;console.log(\"lbl\");console.log(lbl);if(lbl<0){lbl=60+lbl%60;newHour=hour-Math.ceil(-(min-(dataPoints-1-count)*15)/60);if(newHour<0){newHour=newHour+24;}}labels.push(zeroPad(newHour,2)+\":\"+zeroPad(lbl,2));}}for(var count=0;count<allMetrics3.length;count++){var metric=JSON.parse(JSON.stringify(allMetrics3[count]));console.log(\"c\");console.log(metric);console.log(\"cd\");console.log(toggled[0]);if(toggled[0]==true){metric.data.series[0]=metric.data.series[0].splice(-dataPoints);metric.data.labels=labels;}else{console.log(\"false\");var delta=10;var lightArrayIn=metric.data.series[0].slice(-(dataPoints*delta));console.log(lightArrayIn);metric.data.series[0]=[];for(var i=lightArrayIn.length-1;i>=0;i=i-delta){metric.data.series[0].push(lightArrayIn[i]);}metric.data.series[0].reverse();console.log(metric.data.series[0]);}console.log(metric);allMetrics2.push(metric);console.log(\"allm21\");console.log(allMetrics2);}console.log(\"allm2\");console.log(allMetrics2);console.log(allMetrics);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(GridContainer,null,allMetrics2.map(function(i){return/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:3,key:\"hello\"},/*#__PURE__*/React.createElement(CardSpecial,{chart:true,style:{backgroundColor:i.high>=i.data.series[0][dataPoints-1]&&i.low<=i.data.series[0][dataPoints-1]?\"#66bb6a\":\"#ef5350\",padding:\"10px 10px\",textAlign:\"center\",color:\"white\",fontWeight:\"bold\"}},NotifName(i.title,i.data.series[0][dataPoints-1],i.high,i.low)));})),/*#__PURE__*/React.createElement(GridContainer,null,allMetrics2.map(function(i){var type=i.title.includes(\"Humidity\")?'Humidity':i.title.includes(\"Light\")?'Light':i.title.includes(\"Temp\")?'Temp':'PH';console.log(i.high);console.log(i.data.series[0]);console.log(i.low);var color=\"primary\";return/*#__PURE__*/React.createElement(GridItem,{xs:12,sm:12,md:6,key:i.title,id:type},/*#__PURE__*/React.createElement(Card,{chart:true},/*#__PURE__*/React.createElement(CardHeader,{color:color},/*#__PURE__*/React.createElement(ChartistGraph,{className:\"ct-chart\",data:i.data,type:\"Line\",options:i.options,listener:{\"draw\":function draw(data){if(data.type==='line'||data.type==='area'){data.element.animate({d:{begin:2000*data.index,dur:2000,from:data.path.clone().scale(1,0).translate(0,data.chartRect.height()).stringify(),to:data.path.clone().stringify(),easing:Chartist.Svg.Easing.easeOutQuint}});}}}})),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"h4\",{className:classes.cardTitle},i.title,\" : \",i.data.series[0][dataPoints-1]),/*#__PURE__*/React.createElement(\"p1\",null,\"Optimum Range: \",i.low,\" - \",i.high))));})));}function NotifName(title,data,high,low){if(title.includes(\"Humidity\")){if(high<data){return title+\" is too high, Please check your environment\";}else if(low>data){return title+\" is too low, Please check your environment\";}else{return title+' Level Good!';}}else if(title.includes(\"Light\")){if(high<data){return title+\" is too high, Please check your environment\";}else if(low>data){return title+\" is too low, Please check your environment\";}else{return title+' Level Good!';}}else if(title.includes(\"Temp\")){if(high<data){return title+\" is too high, Please lower your temperature\";}else if(low>data){return title+\" is too low, Please raise your temperature\";}else{return title+' Level Good!';}}else if(title.includes(\"PH\")){if(high<data){return title+\" is too high, Please add water\";}else if(low>data){return title+\" is too low, Please add nutrient solution\";}else{return title+' Level Good!';}}}","map":{"version":3,"sources":["/Users/vedantbahadur/Documents/Programming/HTML/Firebase dashboard 2 2/src/views/Dashboard/Dashboard.js"],"names":["React","ChartistGraph","makeStyles","Icon","Store","Warning","DateRange","LocalOffer","Update","ArrowUpward","AccessTime","Accessibility","BugReport","Code","Cloud","GridItem","GridContainer","Table","Tasks","CustomTabs","Danger","Card","CardHeader","CardIcon","CardBody","CardFooter","CardSpecial","firebase","db_config","View","bugs","website","server","allMetrics","dataPoints","toggleConst","styles","Chartist","require","useStyles","Dashboard","classes","allMetrics3","Object","assign","allMetrics2","console","log","toggled","labels","label1","JSON","parse","stringify","data","length","hour","Math","round","substr","indexOf","min","zeroPad","num","places","String","padStart","count","newHour","lbl","ceil","push","metric","series","splice","delta","lightArrayIn","slice","i","reverse","map","backgroundColor","high","low","padding","textAlign","color","fontWeight","NotifName","title","type","includes","options","element","animate","d","begin","index","dur","from","path","clone","scale","translate","chartRect","height","to","easing","Svg","Easing","easeOutQuint","cardTitle"],"mappings":"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","sourcesContent":["import React from \"react\";\n// react plugin for creating charts\nimport ChartistGraph from \"react-chartist\";\n// @material-ui/core\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Icon from \"@material-ui/core/Icon\";\n// @material-ui/icons\nimport Store from \"@material-ui/icons/Store\";\nimport Warning from \"@material-ui/icons/Warning\";\nimport DateRange from \"@material-ui/icons/DateRange\";\nimport LocalOffer from \"@material-ui/icons/LocalOffer\";\nimport Update from \"@material-ui/icons/Update\";\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\nimport Accessibility from \"@material-ui/icons/Accessibility\";\nimport BugReport from \"@material-ui/icons/BugReport\";\nimport Code from \"@material-ui/icons/Code\";\nimport Cloud from \"@material-ui/icons/Cloud\";\n// core components\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport Table from \"components/Table/Table.js\";\nimport Tasks from \"components/Tasks/Tasks.js\";\nimport CustomTabs from \"components/CustomTabs/CustomTabs.js\";\nimport Danger from \"components/Typography/Danger.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardIcon from \"components/Card/CardIcon.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CardSpecial from \"components/Card/CardSpecial\";\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport { db_config } from \"config\";\nimport View from '@material-ui/core/Button';\n\nimport { bugs, website, server } from \"variables/general.js\";\n\nimport {\n  allMetrics,\n  dataPoints,\n  toggleConst\n} from \"variables/charts.js\";\n\nimport styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\nvar Chartist = require(\"chartist\");\nconst useStyles = makeStyles(styles);\n\nexport default function Dashboard() {\n  const classes = useStyles();\n  var allMetrics3 = [];\n  Object.assign(allMetrics3, allMetrics)\n  var allMetrics2 = [];\n  console.log(allMetrics)\n  var toggled = [false];\n  Object.assign(toggled, toggleConst);\n  console.log(\"Toggle\")\n  console.log(toggled);\n  console.log(\"Toggle\")\n  console.log(toggleConst);\n  var labels = [];\n  var label1 = JSON.parse(JSON.stringify(allMetrics[0].data.labels[allMetrics[0].data.labels.length - 1]))\n  console.log(label1)\n  var hour = Math.round(label1.substr(0, label1.indexOf(':')));\n  var min = Math.round(label1.substr(label1.indexOf(':') + 1));\n  const zeroPad = (num, places) => String(num).padStart(places, '0')\n  if (toggled[0] == true) {\n    for (var count = 0; count < dataPoints; count++) {\n      var newHour = hour;\n      var lbl = min - (dataPoints - 1 - count) * 15\n      console.log(\"lbl\")\n      console.log(lbl)\n      if (lbl < 0) {\n        lbl = 60 + lbl % 60\n        newHour = hour - Math.ceil(-(min - (dataPoints - 1 - count) * 15) / 60)\n        if (newHour < 0) {\n          newHour = newHour + 24\n        }\n      }\n      labels.push(zeroPad(newHour, 2) + \":\" + zeroPad(lbl, 2))\n    }\n  }\n  for (var count = 0; count < allMetrics3.length; count++) {\n    var metric = JSON.parse(JSON.stringify(allMetrics3[count]))\n    console.log(\"c\")\n    console.log(metric);\n    console.log(\"cd\")\n    console.log(toggled[0])\n    if (toggled[0] == true) {\n      metric.data.series[0] = metric.data.series[0].splice(-dataPoints);\n      metric.data.labels = labels\n    }\n    else {\n      console.log(\"false\")\n      var delta = 10;\n      var lightArrayIn = metric.data.series[0].slice(-(dataPoints * delta));\n      console.log(lightArrayIn)\n      metric.data.series[0] = [];\n      for (var i = lightArrayIn.length - 1; i >= 0; i = i - delta) {\n        metric.data.series[0].push(lightArrayIn[i]);\n      }\n      metric.data.series[0].reverse()\n      console.log(metric.data.series[0])\n    }\n    console.log(metric)\n    allMetrics2.push(metric)\n    console.log(\"allm21\")\n    console.log(allMetrics2)\n  }\n  console.log(\"allm2\")\n  console.log(allMetrics2)\n  console.log(allMetrics)\n  return (\n    <div>\n\n      <GridContainer >\n        {allMetrics2.map(i => {\n          return <GridItem xs={12} sm={12} md={3} key=\"hello\">\n            <CardSpecial chart style={{\n              backgroundColor: (i.high >= i.data.series[0][dataPoints - 1] && i.low <= i.data.series[0][dataPoints - 1]) ? \"#66bb6a\" : \"#ef5350\",\n              padding: \"10px 10px\",\n              textAlign: \"center\",\n              color: \"white\",\n              fontWeight: \"bold\",\n            }}>\n              {NotifName(i.title, i.data.series[0][dataPoints - 1], i.high, i.low)}\n            </CardSpecial>\n          </GridItem>\n        })}\n      </GridContainer>\n\n\n      <GridContainer>\n        {allMetrics2.map(i => {\n          var type = i.title.includes(\"Humidity\") ? 'Humidity' : i.title.includes(\"Light\") ? 'Light' : i.title.includes(\"Temp\") ? 'Temp' : 'PH'\n          console.log(i.high)\n          console.log(i.data.series[0])\n          console.log(i.low)\n          var color = \"primary\"\n          return <GridItem xs={12} sm={12} md={6} key={i.title} id={type}>\n            <Card chart>\n              <CardHeader color={color}>\n                <ChartistGraph\n                  className=\"ct-chart\"\n                  data={i.data}\n                  type=\"Line\"\n                  options={i.options}\n                  listener={{\n                    \"draw\": function (data) {\n                      if (data.type === 'line' || data.type === 'area') {\n                        data.element.animate({\n                          d: {\n                            begin: 2000 * data.index,\n                            dur: 2000,\n                            from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),\n                            to: data.path.clone().stringify(),\n                            easing: Chartist.Svg.Easing.easeOutQuint\n                          }\n                        });\n                      }\n                    }\n                  }}\n                />\n              </CardHeader>\n              <CardBody>\n                <h4 className={classes.cardTitle}>{i.title} : {i.data.series[0][dataPoints - 1]}</h4>\n                <p1>Optimum Range: {i.low} - {i.high}</p1>\n              </CardBody>\n            </Card>\n          </GridItem>;\n        })}\n      </GridContainer>\n    </div>\n  );\n}\n\nfunction NotifName(title, data, high, low) {\n  if (title.includes(\"Humidity\")) {\n    if (high < data) {\n      return (title + \" is too high, Please check your environment\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please check your environment\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  }\n  else if (title.includes(\"Light\")) {\n    if (high < data) {\n      return (title + \" is too high, Please check your environment\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please check your environment\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  } else if (title.includes(\"Temp\")) {\n    if (high < data) {\n      return (title + \" is too high, Please lower your temperature\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please raise your temperature\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  } else if (title.includes(\"PH\")) {\n    if (high < data) {\n      return (title + \" is too high, Please add water\")\n    }\n    else if (low > data) {\n      return (title + \" is too low, Please add nutrient solution\")\n    }\n    else {\n      return (title + ' Level Good!')\n    }\n  }\n}"]},"metadata":{},"sourceType":"module"}